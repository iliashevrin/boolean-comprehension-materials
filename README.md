# boolean-comprehension-materials
This repository covers the artifacts and supplementary materials described in the paper:

<i>I. Shevrin, S. Maoz, What Properties Affect Boolean Formula Comprehension in Formal Specifications? 2025.</i>

## BooleanRefactoring
This folder contains a Java project with the source code for the refactoring algorithm and additional scripts. The project requires [antlr](https://www.antlr.org/download.html) library to run.

Packages of interest include:
### `entrypoints` package
Includes two classes with main methods as entry points: (1) FormulaScoreCalculator.java that is the entry point of the formula_score_calculator.jar that computes the complexity score; (2) RefactorProcedure.java that is the entry point of the refactoring_procedure.jara that outputs alternative rewrites of the Boolean formula with a lower complexity score.
### `identities` package
Includes logic of the Boolean identities applied during the refactoring algorithm.
### `language` package
Includes autogenerated code of the grammar for Boolean formulas defined in BooleanFormula.g4.
### `metrics` package
Includes logic of the syntactic properties examined in the paper.
### `scripts` package
Includes classes with main methods. In particular, includes the statistical analyses for the primary properties and the additional properties in the main experiment, and for the followup experiment. Also, includes TestRefactorProcedure that takes as input a formula corpus and performs mutation testing on the refactoring algorithm, and FormulasForFollowup that computes scores for the followup experiment corpus.

## jars
Contains the jars for both entry points.

### refactoring_procedure.jar

To execute the jar, run `java -jar refactoring_procedure.jar "[FORMULA]" [NUM_RESULTS]`. The formula syntax accepts the following operators: "&", "|", "->", "<->", "!". The top-level formula as well as all subformulas must be wrapped in parentheses. In a Windows environment, double quotation marks should be used instead of single quotation marks as in Unix environments

Example command:

`java -jar refactoring_procedure.jar "((!a & !b & !c)->d)" 3`

The output is NUM_RESULTS formulas with their reading complexity scores, sorted by the score in ascending order (the best formula is the first):

```
(a|b|c|d) = 11.42  
!(!a&!b&!c&!d) = 18.09  
(!d->(a|b|c)) = 20.38
```

### formula_score_calculator.jar

Prints the reading complexity score of a formula

Example command:

`java -jar formula_score_calc.jar "((!a & !b & !c)->d)"`

With output:

`21.26`

## tables
Contains CSV and Excel files used for the experimental execution and the analysis, organized as follows.
### datasets
Contains the Boolean formula datasets of the main and followup experiments, including original and rewritten formulas.
### logs
Contains the raw logs as extracted from the backend API during the execution of the main and followup experiments.
### statistical_results
Contains the statistical results as the output from the scripts.

category_results.csv - the statistical data and analysis of each test category of the main experiment
formula_results.csv - the statistical data of each formula pair
additional_results.csv - the statistical data according to the additional categories and properties
### tool_output
Contains tool_runtimes.csv as the output of the TestRefactorProcedure script and formulas_followup.csv as the corpus for the followup experiment.
## text
PDF files of the consent and instructions pages of the web interface. See [https://github.com/iliashevrin/boolean-comprehension-frontend](https://github.com/iliashevrin/boolean-comprehension-frontend) for more information.
